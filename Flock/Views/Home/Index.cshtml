@model dynamic
@{
    ViewBag.Title = "Let's flock";
    Layout = "../Shared/_Layout.cshtml";
}
<link href="~/Content/FlockApplication.css" rel="stylesheet" />
<div class="container" ng-controller="messageController">
    <div class="row-fluid">
        <div class="span5">
            <br/>
            <a href="#"  class="btn-link" onclick="location.reload();" >Home</a>
            <h3>Welcome, Let's flock together </h3>
            <div ng-show="!isUserNotSelected">
                <textarea  class="span11" placeholder="by saying something here..." rows="3" ng-model="messageContent" on-enter="saveMessage()" maxlength="140" ></textarea>
                <h6>---------------------------------------------------------------------------------------140 characters</h6>
            </div>
            
            <div id="userSelection" ng-show="isUserNotSelected">
                <label class="control-label">
                    Select Sample User: &nbsp;
                    <select class="input-medium"
                            id="users-dropdown"
                            ng-model="selectedUser"
                            ng-options="user.name as user.name for user in sampleUsers">
                    </select>
                </label>
                <button type="button" class="btn btn-primary" ng-click="enterFlock()">Enter Flock</button>
            </div>
           
            <div id="FlockPageContent" ng-show="!isUserNotSelected">
                
                <div class="messageSection" ng-repeat="message in messages">
                    <div class="row-fluid">
                        <div class="span4 text-success">{{message.lastUpdated}}</div>
                        <div id="cheersLikeIt" ng-show="message.usersLiked.length" class="span4 show">
                            <img height="30px" width="30px" src="~/Content/Images/Thumbsup.jpg" />
                            <a href="#"  rel="tooltip" data-placement="right" title="dsfdfdsaf" set-title >  {{message.usersLiked.length}} likes</a>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span11 greyColor">
                            <blockquote>
                                <div class="messageContent">{{message.content}} </div>
                                <small>{{message.user}}</small>
                            </blockquote>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span4">
                            <a href="#shoutOutLoudWindows" ng-click="shoutOutLoud(message)" data-toggle="modal"><i class="icon-bullhorn"></i>Shout out loud</a>
                        </div>
                        <div class="span4">
                            <a href="" ng-click="likeMessage(message)" ng-show="!checkLikeStatus(message)"><i class="icon-glass" ></i>Cheers, like it! </a>
                            <a href=""  ng-click="unlikeMessage(message)" ng-show="checkLikeStatus(message)"><i class="icon-glass" ></i>Unlike like it! </a>
                        </div>
                        <div class="span4">
                            <a href="" ng-click="showCommentsText()"><i class="icon-glass" ></i>Comments</a>
                           
                        </div>
                    </div>
                    <hr />
                    <div  ng-show="showCommentTexbox"> 
                        
                        <strong>{{selectedUser}} Says:</strong>
                        <textarea  class="span11 messageComment" placeholder="your Comments" rows="2" ng-model="message.userComment" on-enter="saveComments(message)" maxlength="100" ></textarea>
                    </div>
                     <div class="row-fluid" ng-repeat="comment in message.comments">
                        <label> -- {{comment}}</label>
                </div>
                </div>
                
                
                
             




                <div id="shoutOutLoudWindows" class="modal hide fade">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h3>Good find, let's share...</h3>
                    </div>
                    <div class="modal-body row-fluid">
                        <textarea class="span11" rows="3" maxlength="140" ng-model="originalAuthorSays"></textarea>
                        <h6>140 characters</h6>
                    </div>
                    <div class="modal-footer">
                        <button href="#" class="btn btn-primary" data-dismiss="modal" ng-click="shareMessage()">Shout out loud</button>
                    </div>
                </div>
            </div>
        </div>


        <div class="span3">
            <h3>
                <img src="~/Content/Images/avatar.gif" class="img-circle" style="max-height: 80px" />
            </h3>
            <b class="control-group.success control-label" ng-show="!isUserNotSelected">{{selectedUser }}</b>
        </div>
    </div>
</div>




