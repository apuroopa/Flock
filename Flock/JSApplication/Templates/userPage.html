<div ng-controller="userPageController" style="background:grey      ">
    <!--Header Section-->
    <div style="height: 155px; background:cadetblue ">
    </div>



    <div class="container center" >
        <!--Cover Pic Section-->
        <div class="well span8" style="background: white; height: 375px; margin-top: -125px; border-top-width: 2px; border-color: dimgray; border-left-width: 2px; border-right-width: 2px; border-bottom-color: white">
            <!--Flock Page header bar-->
            <div class="navbar navbar-inverse">
                <div class="navbar-inner">


                    <div class="nav-collapse">
                        <ul class="nav">
                            <li><a class="brand active" href="">Flock</a></li>
                        </ul>

                        <ul class="nav pull-right">
                            <li class="divider-vertical"></li>
                            <li><a href=""><i class="icon-user icon-white"></i></a></li>
                            <li><a href="">About</a></li>
                            <li><a href="">Contact</a></li>
                        </ul>
                    </div>

                </div>
            </div>

            <!--User Information-->
            <div style="background: white; margin-top: -25px;">

                <img id="userCoverPic" />

                <span style="font: 14px; font-family: verdana; font-weight: bold;">{{userName}} </span>

                <span>
                    <a class="pull-right" href="#changePictureModel" style="font-size: 11px; text-decoration: none;" data-toggle="modal" data-backdrop="false">Change Cover</a>
                </span>
                <br />
            </div>
            <br />

            <div>
                <div>
                    <!-- <img id="userProfilePic" src="../../Content/images/profilepic - Copy.png" />
                    <textarea class="span7" style="margin-top: 8px;" ng-model="quackText" style="resize: none" placeholder="Your Quack..." rows="3" maxlength="200" on-enter="saveQuack()"></textarea>
                    <div style="margin-top: -5px">
                        <a href="#" style="font-size: 11px">Change Picture</a>
                        <a href="#" class="pull-right" style="font-size: 11px; margin-right:8px; margin-top:-5px;  ">Attach Image</a>
                    </div>-->
                    <!--TOD0: Commented for Draft implementation--- need to get the css correct-->
                    <!--<div style="margin-left: 100px;" auto-update-user-tags="quackText" list-of-users="users"></div>-->

                    <div class="media well span7" style="height: 65px; margin-top: -15px; border: none; background: white;">
                        <a class="pull-left" href="#changeProfilePictureModel" style="font-size: 9px; text-decoration: none;" data-toggle="modal" data-backdrop="false">
                            <img id="userProfilePic" class="media-object" ng-src="{{userProfilePicUrl}}" style="width: 64px; height: 64px; box-shadow: 3px 3px 1px #888888;" />
                            Change Picture </a>
                        <div class="media-body">
                            <textarea id="quackText" class="span6" style="width: 575px; resize: none; font-family: arial; font-size: 13px;" placeholder="Your Quack..." rows="3" maxlength="200" ng-model="messageContent" on-enter="saveQuack()"></textarea>
                            <p class="text-success" style="font-size: 10px; font-family: arial; margin-top: -12px;">{{maxCharacters - messageContent.length}} characters remaining...</p>
                            <br />
                        </div>
                    </div>
                </div>
                <br />
            </div>




        </div>

        <div class="well span8" style="background: white; margin-top: -40px; border-color: dimgray; border-left-width: 2px; border-right-width: 2px; border-bottom-width: 1px; border-top-color: white">

            <div ng-repeat="quack in quacks">
                <div class="media well span7" style="margin-top: -20px; background: white; border: none;">
                    <a class="pull-left" href="#">
                        <img class="media-object" style="width: 64px; height: 64px; box-shadow: 3px 3px 1px #888888;" ng-src="{{ quack.UserImage}}" />
                    </a>
                    <div class="media-body">
                        <span class="media-heading"
                            style="color: steelblue; font-weight: bold;">{{quack.UserName}}
                        </span>
                        <span
                            style="color: slategray; font-size: 11px;">&nbsp;- {{quack.TimeSpan}} 
                        </span>
                        <!-- <span ng-show="quack.IsNew"
                            style="color: red; font-size: 11px; font-weight: bold">&nbsp; Quack 
                        </span>
                        <span ng-show="!quack.IsNew"
                            style="color: orange; font-size: 11px; font-weight: bold">&nbsp;-Reply
                        </span>-->

                        <button type="button" class="close pull-right" ng-click="deleteQuack(quack.Id)" style="margin-left: 2px; font-size: 16px !important;" ng-show="quack.ShowDelete" aria-hidden="true">x</button>
                        <a ng-show="quack.IsNew" style="color: green; font-size: 11px; text-decoration:none"  ng-click="setQuackId(quack.Id, quack.Likes)"  href="#quackUserLikes" data-toggle="modal" data-backdrop="false"  class="pull-right">({{quack.Likes}}) Likes | ({{quack.Replies}}) Replies</a>

                        <p style="font-size: 12px; font-family: arial;">
                            {{quack.Message}}
                            
                            <span class="pull-right" style="margin-left: 3px;"><a href="" ng-click="expandClick(quack)" style="color: blue; font-size: 11px; text-decoration: none;">{{quack.ExpandOrCollapse}}</a> </span>
                            <span ng-show="quack.IsNew" class="pull-right" style="margin-left: 3px;">|</span>
                            <span ng-show="quack.IsNew" class="pull-right" style="margin-left: 3px;"><a href="" ng-click="likeOrUnlikeQuack(quack)" style="color: blue; font-size: 11px; text-decoration: none;">{{quack.LikeOrUnlike}}</a></span>
                        </p>



                        <!--Conversations-->
                        <div style="max-height: 210px; overflow: auto;">
                            <div id="conversations" ng-show="quack.ShowConversation" ng-repeat="reply in quack.QuackReplies">
                                <hr style="margin: 0.1em auto;" />
                                <div class="media">



                                    <a class="pull-left" href="#">
                                        <img class="media-object" style="width: 64px; height: 64px; box-shadow: 3px 3px 1px #888888;" ng-src="{{ reply.UserImage}}" />
                                    </a>
                                    <div class="media-body">
                                        <span class="media-heading"
                                            style="color: steelblue; font-weight: bold;">{{reply.UserName}}
                                        </span>
                                        <span
                                            style="color: slategray; font-size: 11px;">&nbsp;-{{reply.TimeSpan}}
                                        </span>
                                        <span ng-show="reply.IsNew"
                                            style="color: red; font-size: 11px; font-weight: bold">&nbsp;  <img  style="width:30px; height:30px;" src="../../Content/images/small.jpg" /> 
                                        </span>

                                        <button type="button" class="close pull-right" ng-click="deleteQuack(reply.Id)" style="margin-left: 2px; margin-right: 5px; font-size: 16px !important;" ng-show="quack.ShowDelete" aria-hidden="true">x</button>
                                        <a ng-show="reply.IsNew" href="#quackUserLikes" ng-click="setQuackId(reply.Id, reply.Likes)" data-toggle="modal" data-backdrop="false" style="color: green; text-decoration: none; font-size: 11px;" class="pull-right">({{reply.Likes}}) Likes | ({{reply.Replies}}) Replies</a>

                                        <p style="font-size: 12px; font-family: arial; width: 500px">
                                            {{reply.Message}}
                             <span ng-show="reply.IsNew" class="pull-right"><a href="" ng-click="likeOrUnlikeQuack(reply)" style="color: blue; font-size: 11px; text-decoration: none;">{{reply.LikeOrUnlike}}</a></span>
                                        </p>

                                    </div>
                                </div>


                                <!--ReplyTextBox--->






                            </div>
                        </div>

                        <div class="media" style="height: 90px; border: none; background: white;" ng-show="quack.ShowConversation">
                            <a class="pull-left" href="#" style="font-size: 9px; text-decoration: none;" data-toggle="modal" data-backdrop="false">
                                <img id="Img1" class="media-object" ng-src="{{userProfilePicUrl}}" style="width: 64px; height: 64px; box-shadow: 3px 3px 1px #888888;" />
                            </a>
                            <div class="media-body">
                                <textarea id="{{'replyBox'+ quack.Id}}" class="span6" style="width: 500px; resize: none; font-family: arial; font-size: 13px;" placeholder="Reply..." rows="3" maxlength="200" on-enter="saveReply(quack.Id, 'replyBox'+ quack.Id, quack.IsNew, quack.ConversationId)"> @{{quack.UserNickName}}&nbsp;</textarea>
                                <p class="text-success" style="font-size: 10px; font-family: arial; margin-top: -12px;">{{maxCharacters - replyContent.length}} characters remaining...</p>
                                <br />
                            </div>
                        </div>

                    </div>



                </div>
            </div>
        </div>

    </div>

    <ng-include src="'JSApplication/Templates/changePhoto.html'"></ng-include>
    <ng-include src="'JSApplication/Templates/changeProfilePic.html'"></ng-include>
    <ng-include src="'JSApplication/Templates/quackUserLikes.html'"></ng-include>

</div>





